{"openapi":"3.0.0","info":{"title":"API Documentation","version":"1.0.0","description":"API documentation for the project management system"},"servers":[{"url":"http://localhost:3400","description":"Development server"}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"User":{"type":"object","properties":{"_id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"phonenumber":{"type":"string"},"token":{"type":"string"},"course":{"type":"array","items":{"type":"string"}}}},"Category":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"icon":{"type":"string"},"parent":{"type":"string"},"children":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}},"Product":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"text":{"type":"string"},"short_text":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"count":{"type":"integer"},"discount":{"type":"integer"},"price":{"type":"number"},"image":{"type":"array","items":{"type":"string"}},"mainPic":{"type":"string"},"category":{"$ref":"#/components/schemas/Category"}}},"Course":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"short_text":{"type":"string"},"text":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"category":{"$ref":"#/components/schemas/Category"},"teacher":{"type":"string"},"price":{"type":"number"},"discount":{"type":"integer"},"type":{"type":"string","enum":["free","paid"]},"image":{"type":"string"},"status":{"type":"string"},"chapters":{"type":"array","items":{"$ref":"#/components/schemas/Chapter"}}}},"Chapter":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"text":{"type":"string"},"episodes":{"type":"array","items":{"$ref":"#/components/schemas/Episode"}}}},"Episode":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"text":{"type":"string"},"type":{"type":"string","enum":["lock","unlock"]},"time":{"type":"string"},"videoAddress":{"type":"string"}}}}},"security":[{"bearerAuth":[]}],"paths":{"/auth/register":{"post":{"tags":["Auth"],"summary":"ثبت نام کاربر جدید","description":"ثبت نام کاربر جدید در سیستم","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["username","password","confirm_password","email","phonenumber"],"properties":{"username":{"type":"string","description":"نام کاربری"},"password":{"type":"string","format":"password","description":"رمز عبور"},"email":{"type":"string","format":"email","description":"ایمیل"},"phonenumber":{"type":"string","description":"شماره تلفن"},"confirm_password":{"type":"string","description":"تکرار رمز عبور"}}}}}},"responses":{"200":{"description":"کاربر با موفقیت ثبت نام شد","content":{"application/json":{"schema":{"type":"object","properties":{"_id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"phonenumber":{"type":"string"}}}}}},"400":{"description":"خطای اعتبارسنجی"},"500":{"description":"خطای سرور"}}}},"/auth/login":{"post":{"tags":["Auth"],"summary":"ورود کاربر","description":"ورود کاربر به سیستم و دریافت توکن","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["username","password"],"properties":{"username":{"type":"string","description":"نام کاربری"},"password":{"type":"string","format":"password","description":"رمز عبور"}}}}}},"responses":{"200":{"description":"ورود با موفقیت انجام شد","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"success":{"type":"boolean","example":true},"message":{"type":"string","example":"ورود با موفقیت انجام شد"},"token":{"type":"string","description":"توکن احراز هویت"}}}}}},"401":{"description":"نام کاربری یا رمز عبور اشتباه میباشد"},"500":{"description":"خطای سرور"}}}},"/auth/forgot-password":{"post":{"tags":["Auth"],"summary":"درخواست بازنشانی رمز عبور","description":"ارسال ایمیل حاوی لینک بازنشانی رمز عبور","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email"}}}}}},"responses":{"200":{"description":"ایمیل با موفقیت ارسال شد"},"404":{"description":"کاربر یافت نشد"},"500":{"description":"خطای سرور"}}}},"/auth/reset-password":{"post":{"tags":["Auth"],"summary":"بازنشانی رمز عبور","description":"تغییر رمز عبور با استفاده از توکن","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["token","password"],"properties":{"token":{"type":"string"},"password":{"type":"string","minLength":6}}}}}},"responses":{"200":{"description":"رمز عبور با موفقیت تغییر کرد"},"400":{"description":"توکن نامعتبر یا منقضی شده"},"500":{"description":"خطای سرور"}}}},"/basket/add":{"post":{"summary":"افزودن دوره به سبد خرید","tags":["Basket (Courses)"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["courseID"],"properties":{"courseID":{"type":"string","example":"642e1ac87394828423428421"}}}}}},"responses":{"200":{"description":"موفقیت‌آمیز","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"دوره به سبد خرید افزوده شد"}}}}}}}}}}},"/basket/remove":{"delete":{"summary":"حذف یا کاهش تعداد یک دوره از سبد خرید","tags":["Basket (Courses)"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["courseID"],"properties":{"courseID":{"type":"string"}}}}}},"responses":{"200":{"description":"حذف موفق","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"data":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}}}},"/basket/list":{"get":{"summary":"دریافت لیست دوره‌های سبد خرید","tags":["Basket (Courses)"],"responses":{"200":{"description":"لیست دوره‌ها","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number"},"data":{"type":"array","items":{"type":"object","properties":{"courseID":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"price":{"type":"number"},"discount":{"type":"number"}}},"count":{"type":"number"}}}}}}}}}}}},"/basket/totalprice":{"put":{"summary":"محاسبه قیمت کل دوره‌های سبد","tags":["Basket (Courses)"],"responses":{"200":{"description":"قیمت نهایی محاسبه شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"data":{"type":"object","properties":{"total":{"type":"number"}}}}}}}}}}},"/category/post/chosen/create":{"post":{"tags":["Category"],"summary":"افزودن دسته‌بندی جدید","description":"ایجاد یک دسته‌بندی جدید","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["title"],"properties":{"title":{"type":"string","description":"عنوان دسته‌بندی"},"parent":{"type":"string","description":"شناسه دسته‌بندی والد"},"mainIcon":{"type":"string","format":"binary","description":"آیکون دسته‌بندی"}}}}}},"responses":{"201":{"description":"دسته‌بندی با موفقیت ایجاد شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":201},"data":{"type":"object","properties":{"message":{"type":"string","example":"دسته‌بندی با موفقیت ایجاد شد"}}}}}}}},"400":{"description":"خطای اعتبارسنجی"},"409":{"description":"دسته‌بندی تکراری است"},"500":{"description":"خطای سرور"}}}},"/category/remove/{id}":{"delete":{"tags":["Category"],"summary":"حذف دسته‌بندی","description":"حذف یک دسته‌بندی","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"شناسه دسته‌بندی"}],"responses":{"200":{"description":"دسته‌بندی با موفقیت حذف شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"دسته‌بندی با موفقیت حذف شد"}}}}}}}},"404":{"description":"دسته‌بندی یافت نشد"},"500":{"description":"خطای سرور"}}}},"/category/edit/{id}":{"put":{"tags":["Category"],"summary":"ویرایش دسته‌بندی","description":"به‌روزرسانی اطلاعات یک دسته‌بندی","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"شناسه دسته‌بندی"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"عنوان دسته‌بندی"},"parent":{"type":"string","description":"شناسه دسته‌بندی والد"},"mainIcon":{"type":"string","format":"binary","description":"آیکون دسته‌بندی"}}}}}},"responses":{"200":{"description":"دسته‌بندی با موفقیت به‌روزرسانی شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"دسته‌بندی با موفقیت به‌روزرسانی شد"}}}}}}}},"404":{"description":"دسته‌بندی یافت نشد"},"500":{"description":"خطای سرور"}}}},"/category/parents":{"get":{"tags":["Category"],"summary":"دریافت دسته‌بندی‌های والد","description":"دریافت لیست تمام دسته‌بندی‌های والد","responses":{"200":{"description":"لیست دسته‌بندی‌های والد با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"categories":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}}}}}},"500":{"description":"خطای سرور"}}}},"/category/children/{parent}":{"get":{"tags":["Category"],"summary":"دریافت دسته‌بندی‌های فرزند","description":"دریافت لیست تمام دسته‌بندی‌های فرزند یک دسته‌بندی والد","parameters":[{"in":"path","name":"parent","required":true,"schema":{"type":"string"},"description":"شناسه دسته‌بندی والد"}],"responses":{"200":{"description":"لیست دسته‌بندی‌های فرزند با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"categories":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}}}}}},"404":{"description":"دسته‌بندی والد یافت نشد"},"500":{"description":"خطای سرور"}}}},"/category/all":{"get":{"tags":["Category"],"summary":"دریافت تمام دسته‌بندی‌ها","description":"دریافت لیست تمام دسته‌بندی‌ها با اطلاعات کامل","responses":{"200":{"description":"لیست دسته‌بندی‌ها با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"categories":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}}}}}},"500":{"description":"خطای سرور"}}}},"/category/list-of-all":{"get":{"tags":["Category"],"summary":"دریافت لیست ساده دسته‌بندی‌ها","description":"دریافت لیست تمام دسته‌بندی‌ها بدون اطلاعات اضافی","responses":{"200":{"description":"لیست دسته‌بندی‌ها با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"categories":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}}}}}},"500":{"description":"خطای سرور"}}}},"/category/{id}":{"get":{"tags":["Category"],"summary":"دریافت دسته‌بندی با شناسه","description":"دریافت اطلاعات یک دسته‌بندی خاص","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"شناسه دسته‌بندی"}],"responses":{"200":{"description":"اطلاعات دسته‌بندی با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"category":{"$ref":"#/components/schemas/Category"}}}}}}}},"404":{"description":"دسته‌بندی یافت نشد"},"500":{"description":"خطای سرور"}}}},"/chapter/add":{"put":{"tags":["Chapter"],"summary":"افزودن فصل جدید","description":"ایجاد یک فصل جدید برای دوره","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["title","text","courseID"],"properties":{"title":{"type":"string","description":"عنوان فصل"},"text":{"type":"string","description":"توضیحات فصل"},"courseID":{"type":"string","description":"شناسه دوره"}}}}}},"responses":{"201":{"description":"فصل با موفقیت ایجاد شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":201},"data":{"type":"object","properties":{"message":{"type":"string","example":"فصل با موفقیت ایجاد شد"}}}}}}}},"400":{"description":"خطای اعتبارسنجی"},"404":{"description":"دوره یافت نشد"},"500":{"description":"خطای سرور"}}}},"/chapter/list/{courseID}":{"get":{"tags":["Chapter"],"summary":"دریافت لیست فصل‌های دوره","description":"دریافت لیست تمام فصل‌های یک دوره","parameters":[{"in":"path","name":"courseID","required":true,"schema":{"type":"string"},"description":"شناسه دوره"}],"responses":{"200":{"description":"لیست فصل‌ها با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"chapters":{"type":"array","items":{"$ref":"#/components/schemas/Chapter"}}}}}}}}},"404":{"description":"دوره یافت نشد"},"500":{"description":"خطای سرور"}}}},"/chapter/remove/{chapterID}":{"patch":{"tags":["Chapter"],"summary":"حذف فصل","description":"حذف یک فصل از دوره","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"chapterID","required":true,"schema":{"type":"string"},"description":"شناسه فصل"}],"responses":{"200":{"description":"فصل با موفقیت حذف شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"فصل با موفقیت حذف شد"}}}}}}}},"404":{"description":"فصل یافت نشد"},"500":{"description":"خطای سرور"}}}},"/chapter/update/{chapterID}":{"patch":{"tags":["Chapter"],"summary":"ویرایش فصل","description":"به‌روزرسانی اطلاعات یک فصل","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"chapterID","required":true,"schema":{"type":"string"},"description":"شناسه فصل"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"عنوان فصل"},"text":{"type":"string","description":"توضیحات فصل"}}}}}},"responses":{"200":{"description":"فصل با موفقیت به‌روزرسانی شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"فصل با موفقیت به‌روزرسانی شد"}}}}}}}},"404":{"description":"فصل یافت نشد"},"500":{"description":"خطای سرور"}}}},"/course/add":{"post":{"tags":["Course"],"summary":"افزودن دوره جدید","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["title","short_text","text","category","type"],"properties":{"title":{"type":"string"},"short_text":{"type":"string"},"text":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"category":{"type":"string"},"price":{"type":"number"},"discount":{"type":"integer"},"type":{"type":"string","enum":["free","paid"]},"filename":{"type":"string"},"fileUploadPath":{"type":"string"}}}}}},"responses":{"201":{"description":"دوره با موفقیت ایجاد شد"}}}},"/course/list":{"get":{"tags":["Course"],"summary":"دریافت لیست دوره‌ها","parameters":[{"in":"query","name":"search","schema":{"type":"string"}}],"responses":{"200":{"description":"لیست دوره‌ها با موفقیت دریافت شد"},"204":{"description":"هیچ دوره‌ای یافت نشد"}}}},"/course/{id}":{"get":{"tags":["Course"],"summary":"دریافت دوره با شناسه","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"اطلاعات دوره با موفقیت دریافت شد"},"404":{"description":"دوره یافت نشد"}}}},"/course/update/{id}":{"patch":{"tags":["Course"],"summary":"ویرایش دوره","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string"},"short_text":{"type":"string"},"text":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"category":{"type":"string"},"price":{"type":"number"},"discount":{"type":"integer"},"type":{"type":"string","enum":["free","paid"]},"filename":{"type":"string"},"fileUploadPath":{"type":"string"}}}}}},"responses":{"200":{"description":"به‌روزرسانی موفق"}}}},"/course/change-discount-status/{id}":{"patch":{"tags":["Course"],"summary":"تغییر وضعیت تخفیف دوره","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["discountStatus"],"properties":{"discountStatus":{"type":"boolean"}}}}}},"responses":{"200":{"description":"تغییر موفق"}}}},"/discount/create":{"post":{"summary":"ایجاد یک کد تخفیف برای کاربر","tags":["Discount"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userId","code","percent"],"properties":{"userId":{"type":"string","description":"آیدی کاربری که این کد به اون تعلق داره"},"code":{"type":"string","description":"کد تخفیف (یونیک)"},"percent":{"type":"number","description":"درصد تخفیف"},"expiresAt":{"type":"string","format":"date-time","description":"تاریخ انقضای کد تخفیف"}}}}}},"responses":{"201":{"description":"کد تخفیف با موفقیت ساخته شد"},"400":{"description":"کد تکراری یا خطای اعتبارسنجی"}}}},"/discount/apply":{"post":{"summary":"بررسی و اعمال کد تخفیف برای یک کاربر","tags":["Discount"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userId","code"],"properties":{"userId":{"type":"string","description":"آیدی کاربری که می‌خواد کد رو اعمال کنه"},"code":{"type":"string","description":"کد تخفیف"}}}}}},"responses":{"200":{"description":"کد تخفیف معتبر است و درصد تخفیف بازگردانده می‌شود","content":{"application/json":{"schema":{"type":"object","properties":{"percent":{"type":"number","description":"درصد تخفیف"}}}}}},"400":{"description":"کد نامعتبر، استفاده شده یا منقضی شده"},"404":{"description":"کد برای این کاربر وجود ندارد"}}}},"/episode/add":{"post":{"tags":["Episode"],"summary":"افزودن قسمت جدید","description":"ایجاد یک قسمت جدید برای فصل","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["title","text","chapterID","courseID"],"properties":{"title":{"type":"string","description":"عنوان قسمت"},"text":{"type":"string","description":"توضیحات قسمت"},"chapterID":{"type":"string","description":"شناسه فصل"},"courseID":{"type":"string","description":"شناسه دوره"},"video":{"type":"string","format":"binary","description":"فایل ویدیویی قسمت"}}}}}},"responses":{"201":{"description":"قسمت با موفقیت ایجاد شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":201},"data":{"type":"object","properties":{"message":{"type":"string","example":"قسمت با موفقیت ایجاد شد"}}}}}}}},"400":{"description":"خطای اعتبارسنجی"},"404":{"description":"فصل یا دوره یافت نشد"},"500":{"description":"خطای سرور"}}}},"/episode/remove/{episodeID}":{"delete":{"tags":["Episode"],"summary":"حذف قسمت","description":"حذف یک قسمت از فصل","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"episodeID","required":true,"schema":{"type":"string"},"description":"شناسه قسمت"}],"responses":{"200":{"description":"قسمت با موفقیت حذف شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"قسمت با موفقیت حذف شد"}}}}}}}},"404":{"description":"قسمت یافت نشد"},"500":{"description":"خطای سرور"}}}},"/episode/update/{episodeID}":{"patch":{"tags":["Episode"],"summary":"ویرایش قسمت","description":"به‌روزرسانی اطلاعات یک قسمت","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"episodeID","required":true,"schema":{"type":"string"},"description":"شناسه قسمت"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"عنوان قسمت"},"text":{"type":"string","description":"توضیحات قسمت"},"video":{"type":"string","format":"binary","description":"فایل ویدیویی قسمت"}}}}}},"responses":{"200":{"description":"قسمت با موفقیت به‌روزرسانی شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"قسمت با موفقیت به‌روزرسانی شد"}}}}}}}},"404":{"description":"قسمت یافت نشد"},"500":{"description":"خطای سرور"}}}},"/product/list":{"get":{"tags":["Product"],"summary":"دریافت لیست محصولات","description":"دریافت لیست تمام محصولات","responses":{"200":{"description":"لیست محصولات با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"products":{"type":"array","items":{"$ref":"#/components/schemas/Product"}}}}}}}}},"500":{"description":"خطای سرور"}}}},"/product/list/{id}":{"get":{"tags":["Product"],"summary":"دریافت محصول با شناسه","description":"دریافت اطلاعات یک محصول خاص","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"شناسه محصول"}],"responses":{"200":{"description":"اطلاعات محصول با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"product":{"$ref":"#/components/schemas/Product"}}}}}}}},"404":{"description":"محصول یافت نشد"},"500":{"description":"خطای سرور"}}}},"/product/add":{"post":{"tags":["Product"],"summary":"افزودن محصول جدید","description":"ایجاد یک محصول جدید","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["title","text","short_text","category"],"properties":{"title":{"type":"string","description":"عنوان محصول"},"text":{"type":"string","description":"توضیحات کامل محصول"},"short_text":{"type":"string","description":"توضیحات کوتاه محصول"},"tags":{"type":"array","items":{"type":"string"},"description":"برچسب‌های محصول"},"category":{"type":"string","description":"شناسه دسته‌بندی"},"count":{"type":"integer","description":"تعداد موجودی"},"price":{"type":"number","description":"قیمت محصول"},"discount":{"type":"integer","description":"درصد تخفیف"},"mainPic":{"type":"string","format":"binary","description":"تصویر اصلی محصول"},"image":{"type":"array","items":{"type":"string","format":"binary"},"description":"تصاویر اضافی محصول"}}}}}},"responses":{"201":{"description":"محصول با موفقیت ایجاد شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":201},"data":{"type":"object","properties":{"message":{"type":"string","example":"محصول با موفقیت ایجاد شد"}}}}}}}},"400":{"description":"خطای اعتبارسنجی"},"500":{"description":"خطای سرور"}}}},"/product/remove/{id}":{"delete":{"tags":["Product"],"summary":"حذف محصول","description":"حذف یک محصول","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"شناسه محصول"}],"responses":{"200":{"description":"محصول با موفقیت حذف شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"محصول با موفقیت حذف شد"}}}}}}}},"404":{"description":"محصول یافت نشد"},"500":{"description":"خطای سرور"}}}},"/product/edit/patch/{id}":{"put":{"tags":["Product"],"summary":"ویرایش محصول","description":"به‌روزرسانی اطلاعات یک محصول","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"شناسه محصول"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"عنوان محصول"},"text":{"type":"string","description":"توضیحات کامل محصول"},"short_text":{"type":"string","description":"توضیحات کوتاه محصول"},"tags":{"type":"array","items":{"type":"string"},"description":"برچسب‌های محصول"},"category":{"type":"string","description":"شناسه دسته‌بندی"},"count":{"type":"integer","description":"تعداد موجودی"},"price":{"type":"number","description":"قیمت محصول"},"discount":{"type":"integer","description":"درصد تخفیف"},"mainPic":{"type":"string","format":"binary","description":"تصویر اصلی محصول"},"image":{"type":"array","items":{"type":"string","format":"binary"},"description":"تصاویر اضافی محصول"}}}}}},"responses":{"200":{"description":"محصول با موفقیت به‌روزرسانی شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"محصول با موفقیت به‌روزرسانی شد"}}}}}}}},"404":{"description":"محصول یافت نشد"},"500":{"description":"خطای سرور"}}}},"/product/delete-pics/{id}":{"delete":{"tags":["Product"],"summary":"حذف تصاویر محصول","description":"حذف تمام تصاویر یک محصول","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"شناسه محصول"}],"responses":{"200":{"description":"تصاویر با موفقیت حذف شدند","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"تصاویر با موفقیت حذف شدند"}}}}}}}},"404":{"description":"محصول یافت نشد"},"500":{"description":"خطای سرور"}}}},"/product/deletePicByUrl/{productId}":{"put":{"tags":["Product"],"summary":"حذف تصویر با URL","description":"حذف یک تصویر خاص از محصول با استفاده از URL","parameters":[{"in":"path","name":"productId","required":true,"schema":{"type":"string"},"description":"شناسه محصول"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["imageUrl"],"properties":{"imageUrl":{"type":"string","description":"URL تصویر برای حذف"}}}}}},"responses":{"200":{"description":"تصویر با موفقیت حذف شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"تصویر با موفقیت حذف شد"}}}}}}}},"404":{"description":"محصول یا تصویر یافت نشد"},"500":{"description":"خطای سرور"}}}},"/user/profile":{"get":{"tags":["User"],"summary":"دریافت پروفایل کاربر","description":"دریافت اطلاعات پروفایل کاربر با توکن احراز هویت","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"اطلاعات پروفایل با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"اطلاعات یوزر با موفقیت دریافت شد"},"success":{"type":"boolean","example":true},"userInfo":{"type":"object","properties":{"_id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"course":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string"}}}}}}}}}}},"401":{"description":"عدم احراز هویت"},"500":{"description":"خطای سرور"}}},"put":{"tags":["User"],"summary":"ویرایش پروفایل کاربر","description":"ویرایش اطلاعات پروفایل کاربر با توکن احراز هویت","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","description":"نام کاربری"},"email":{"type":"string","description":"ایمیل"},"password":{"type":"string","description":"رمز عبور جدید"}}}}}},"responses":{"200":{"description":"پروفایل با موفقیت بروزرسانی شد","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"success":{"type":"boolean","example":true},"message":{"type":"string","example":"به روز رسانی پروفایل با موفقیت انجام شد"},"userInfo":{"type":"object","properties":{"_id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"}}}}}}}},"400":{"description":"خطا در بروزرسانی پروفایل"},"401":{"description":"عدم احراز هویت"},"500":{"description":"خطای سرور"}}}},"/user/profile/detail":{"get":{"tags":["User"],"summary":"دریافت جزئیات پروفایل کاربر","description":"دریافت اطلاعات کامل پروفایل کاربر با توکن احراز هویت","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"جزئیات پروفایل با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"integer","example":200},"data":{"type":"object","properties":{"userData":{"type":"object","properties":{"_id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"course":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string"}}}}}}}}}}}}},"401":{"description":"عدم احراز هویت"},"500":{"description":"خطای سرور"}}}},"/user/all":{"get":{"tags":["User"],"summary":"دریافت لیست تمام کاربران","description":"دریافت لیست همه کاربران با توکن احراز هویت","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"لیست کاربران با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"success":{"type":"boolean","example":true},"users":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"course":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string"}}}}}}}}}}}},"401":{"description":"عدم احراز هویت"},"500":{"description":"خطای سرور"}}}},"/user/remove/{id}":{"delete":{"tags":["User"],"summary":"حذف کاربر","description":"حذف کاربر مشخص شده با استفاده از ID و توکن احراز هویت","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"شناسه کاربری که باید حذف شود"}],"responses":{"200":{"description":"کاربر با موفقیت حذف شد","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"success":{"type":"boolean","example":true},"message":{"type":"string","example":"کاربر با موفقیت حذف شد"}}}}}},"400":{"description":"کاربر یافت نشد"},"401":{"description":"عدم احراز هویت"},"500":{"description":"خطای سرور"}}}},"/user/{id}":{"get":{"tags":["User"],"summary":"دریافت اطلاعات کاربر با شناسه","description":"دریافت اطلاعات کاربر مشخص شده با استفاده از ID و توکن احراز هویت","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"شناسه کاربر"}],"responses":{"200":{"description":"اطلاعات کاربر با موفقیت دریافت شد","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"success":{"type":"boolean","example":true},"user":{"type":"object","properties":{"_id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"course":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string"}}}}}}}}}}},"401":{"description":"عدم احراز هویت"},"404":{"description":"کاربر یافت نشد"},"500":{"description":"خطای سرور"}}}}},"tags":[{"name":"Basket (Courses)","description":"مدیریت سبد خرید دوره‌ها"},{"name":"Discount","description":"مدیریت کدهای تخفیف"},{"name":"Auth","description":"عملیات احراز هویت"},{"name":"User","description":"عملیات کاربران"},{"name":"Category","description":"عملیات دسته‌بندی‌ها"},{"name":"Product","description":"عملیات محصولات"},{"name":"Course","description":"عملیات دوره‌ها"},{"name":"Chapter","description":"عملیات فصل‌ها"},{"name":"Episode","description":"عملیات قسمت‌ها"}]}